# Examples

Let's start realistic examples. Here, a sample Python file `example.py` is stored under the `examples` directory relative to the `mkdocs.yml` directory, so you should configure `mkdocs.yml` like below. In addition, we add two extensions and an extra javascript for demonstration.

{{ # cache:clean }}

~~~yml
plugins:
  - search
  - mkapi:
      src_dirs: [examples]

markdown_extensions:
  - admonition
  - pymdownx.arithmatex

extra_javascript:  # for pymdownx.arithmatex
  - https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML
~~~

## Function

The `example` module defines a simple function `add()`.

```python hide
import sys

if '../examples' not in sys.path:
  sys.path.insert(0, '../examples')
import example
```

#Code example.add() {{ example.add # inspect }}

Then, you can write an entry to generate API for the function anywhere in your Markdown source:

~~~markdown
![mkapi][example.add]
~~~

MkApi generates the API documentation for the `add()` function.

![mkapi](example.add)

!!! note
    In the above example, green dashed border lines are just guide for the eye to show the region of the documentation generated by MkApi for convenience.

In this simple example, you can see some features of MkApi.

* Type inspection of `add` (FUNCTION prefix is added before `example.add`).
* Use of type annotation for both Parameters and Returns sections.
* Add *optional* if parameters have default values.
* Default value replacement by the `{default}` keyword in the `Args` section.
* External hyperlink.
* Use of MkDocs extensions: MathJax rendering and admonition.

## Generator

The `example` module also defines a simple generator `gen()`.

#Code example.gen() {{ example.gen # inspect }}

Then,

~~~markdown
![mkapi][example.gen]
~~~

creates the API documentation for the `gen()` generator.

![mkapi](example.gen)

In this simple example, notice that:

* A GENERATOR prefix instead of a FUNCTION prefix.
* The parameter `n` has no type annotation but you can specify it in the `Args` section directly.
* Yields type is not *iterator of str* but *str*, because `gen()` is a generator.

## Class

The `example` module also defines a simple class `ExampleClass`.

#Code example.ExampleClass {{ example.ExampleClass # inspect }}

As usual,

~~~markdown
![mkapi][example.ExampleClass]
~~~

creates the API documentation for the `ExampleClass` class.

![mkapi](example.ExampleClass)

In this example, notice that:

* Docstring of `__init__` function is treated as a class-level docstring.
* Type annotation using `typing` package (`List` and `Tuple` in this case) is converted into readable style. So far, only `List` and `Tuple` are supported.
* Bound methods (`message` in this case) have a `METHOD` prefix instead of a `FUNCTION` prefix.
* If callable objects have neither `Returns` nor `Yields`, the type appears on the object definition line like type annotation.
* For properties, the type can be written at the beginning of the docstring or type annotation as well as functions.
* Whether a property is read-only or read-write is inspected.

## Data Class

The `example` module also defines a simple [data class](https://docs.python.org/3/library/dataclasses.html) `ExampleDataClass`.

#Code example.ExampleDataClass {{ example.ExampleDataClass # inspect }}

Then,

~~~markdown
![mkapi][example.ExampleDataClass]
~~~

creates the API documentation for the `ExampleDataClass` class.

![mkapi](example.ExampleDataClass)

In this example, notice that:

* A DATACLASS prefix instead of a CLASS prefix.
* Attributes type inspection as well as parameters if they are data class fields.

## Module

Finally, let's generate the API documentation for the `example` module. The module has a module level docstring like below:

#File example.py (line 1~10) {%=/examples/example.py[0:10]%}

Then,

~~~markdown
![mkapi][example]
~~~

creates the API documentation for the entire `example` module.

![mkapi](example)
