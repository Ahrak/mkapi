# Google Style

<style type="text/css">
<!--
.mkapi-node {
  border: 2px dashed #88AA88;
}
-->
</style>

Let's start realistic examples. Here, a sample Python file `google_style.py` is stored under the `examples` directory relative to the `mkdocs.yml` directory, so you should configure `mkdocs.yml` like below. In addition, we add two extensions and an extra javascript for demonstration.

{{ # cache:clean }}

~~~yml
plugins:
  - search
  - mkapi:
      src_dirs: [examples]

markdown_extensions:
  - admonition
  - pymdownx.arithmatex

extra_javascript:  # for pymdownx.arithmatex
  - https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML
~~~

## Function

The `google_style` module defines a simple function `add()`.

```python hide
import sys

if '../../examples' not in sys.path:
  sys.path.insert(0, '../../examples')
import google_style
```

#Code google_style.add() {{ google_style.add # inspect }}

Then, you can write an entry to generate API for the function anywhere in your Markdown source:

~~~markdown
![mkapi][google_style.add]
~~~

MkApi generates the API documentation for the `add()` function.

![mkapi](google_style.add)

!!! note
    In the above example, green dashed border lines are just guide for the eye to show the region of the documentation generated by MkApi for convenience.

In this simple example, you can see some features of MkApi.

* Type inspection of `add` (FUNCTION prefix is added before `google_style.add`).
* Use of type annotation for both Parameters and Returns sections.
* Add *optional* if parameters have default values.
* Default value replacement by the `{default}` keyword in the `Args` section.
* External hyperlink.
* Use of MkDocs extensions: MathJax rendering and admonition.

## Generator

The `google_style` module also defines a simple generator `gen()`.

#Code google_style.gen() {{ google_style.gen # inspect }}

Then,

~~~markdown
![mkapi][google_style.gen]
~~~

creates the API documentation for the `gen()` generator.

![mkapi](google_style.gen)

In this simple example, note that:

* A GENERATOR prefix instead of a FUNCTION prefix.
* The parameter `n` has no type annotation but you can specify it in the `Args` section directly.
* Yields type is not *iterator of str* but *str*, because `gen()` is a generator.

## Class

The `google_style` module also defines a simple class `ExampleClass`.

#Code google_style.ExampleClass {{ google_style.ExampleClass # inspect }}

As usual,

~~~markdown
![mkapi][google_style.ExampleClass]
~~~

creates the API documentation for the `ExampleClass` class.

![mkapi](google_style.ExampleClass)

In this example, note that:

* Docstring of `__init__` function is treated as a class-level docstring.
* Type annotation using `typing` package (`List` and `Tuple` in this case) is converted into readable style.
* Bound methods (`message` in this case) have a `METHOD` prefix instead of a `FUNCTION` prefix.
* If callable objects have neither `Returns` nor `Yields`, the type appears on the object definition line like type annotation.
* For properties, the type can be written at the beginning of the docstring or as type annotation.
* Whether a property is read-only or read-write is inspected.

## Method

You can select a method of class (or any other attribute that can have docstring) to generate API.

~~~markdown
![mkapi][google_style.ExampleClass.message]
~~~

creates the API documentation for the `message()` of `ExampleClass` class.

![mkapi](google_style.ExampleClass.message)


## Data Class

The `google_style` module also defines a simple [data class](https://docs.python.org/3/library/dataclasses.html) `ExampleDataClass`.

#Code google_style.ExampleDataClass {{ google_style.ExampleDataClass # inspect }}

Then,

~~~markdown
![mkapi][google_style.ExampleDataClass]
~~~

creates the API documentation for the `ExampleDataClass` class.

![mkapi](google_style.ExampleDataClass)

In this example, note that:

* A DATACLASS prefix instead of a CLASS prefix.
* Attributes type inspection as well as parameters if they are data class fields.
